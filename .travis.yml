# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: bR1wYCrvbo8hUqikykRxrN1NoFMSgVFNIpWdPlBalbWQqEA1skSGMGpaMJLCdYICD97JBg3iFvEWQ9cKIeNJnDwIOtBP6xUhOKcvxlCtce7WfJ3gRNwRnIm/KXj5KRJscCYT1vVPAZRB0z9ikMDGaRhqVYpqUsZa5OsWFMJtalNDxq6blYtYKaAkKwxs3M7EWCPQI6TX4efrDunx2gEJU6GXJgMQRyishcBX5vhvskM8PeA6plweGHca22XdKldLJGri8URVPFOmi9RRZ6u+SOT+fUyepJ4CCCN+IvI7Q84rfSo2570bvZHtaeVfH6E6xNvwbV1y5nZmrUjToycbJvaUZkavxhQLtOEfSaz0+/Xlhc3V7K4yfK954GF0L5O8Pyib/+ttgzT/3gNsKlDFjBcwcJO39HH29C4VeD5lyCaaCrwOI3csOH7aCRD+GzEiu8dpY3NaF0UwkPYWldNiLtooUtOdI6PNcKO1CT2z/QerX7n1i/oNYf3FOaLLWXbv19NlqTbgphZUV5yRD9lorkknzkdDFHg9aXzSx+6VyCIuOTqyHfTz4MKrKXTCNCld0BLNP9GJuYL/VtYUoucSQZhlEdv491DvSEZnxq09jQeQTcaEK1DrHsLByWUAWrV5hVj5nArb6aJ5EVbSLyTamgOPWwCfpElAQTMCZC4S0Zo=
  - secure: MUG2CPzIxWmU9y5NfHEFBsR0NoBr4T6Jl4lJzznnH6QFsfcVapVhA/MC3hwqG3Bf9hDEGaNvh83kdktPGc++iKcD1HYwcEbj+mvwC0puw8SVoH+wrUs81VkxlWkOgKFGvxdIYHVAT+N3UW11m4XMBBrLSwfyv+9t7g4ZPESXfqLw3RgziUeyAzUyU1Cvx1j5Jd/YqCFSIJ4foR7+v7fHzk+n/EBdiwE2Bu12jWZhsT00e8uo9uROiRE494FhMzgEepRulvUMLTZjyZkJoyrATbplRHCopkdB6PL8oIrCs9OIoNP8ehNJH4kmylZbjzf0vyFjuPO3t3ZB7s3/2UlNsm6QXM91EwDKeLMf9omk8+yjIycopg2nc6sIt8DpklQeEYCliRnZD/MJmaVhYuAVcGjDgqgdwTWKvnk1za3lxfMMnalZbMQW5WmMY8cDNSlyXIfN7c/VOdnQkcQfrIQV6n1FRIMX6V9WrFKP7mXbHZe3u77OkEJiRaHPxOr5YAXaJxrP3+mWHKXuwlAiS93kRU7UqJc4hdE3I0AMd9hzDBLDAefzjhxWXRgRL3m35f7tom5XpZxtm8sP0Vcu90SuSlrmUGP3/h5fLSewEGjYS55qpfzYiMFHnA92PQ0G4X0tgWqfq1OQ4ede2gvxPSbebhhviCtkKo0UsY8MJlfrgS0=
  - secure: akGwG4cB8oCiwWkSQEbCDbx2RwuD3Rq6gwZhrgt01p2c7ZOjn+B/h/WGcEgXNN4wM1M+YIHScY1GrjnVPe7Yold9vQHwqggYFkVrI3gaGVVhZwkW4SGMg/fLVHMA5zrq+gSH5WwS7VkW27Ki4q3ikMgh444iCS2qiKB5oqttDiTdodij1/o1oiQsLbwQN7VKyVNnQgybU+yj0RTvxE0SHF1ak3L0bmjO6XySbi0pNWmcW6xbBwA85qJypJXYVwzAOHUoD/coIjiCEwSj2OCjje+Ce6v4tuzGKnCx5rLHZdlOZAvVyjseLW8+FH0IG5sN0ZtLnOG5oW8nwv6QYhFK/pIEA4bBVtWPpG5g/74KjudJ0sZAAyOUBJkPKGkL1sI16i5bNWpulq156YTbxcgxZL9p91u8076FLpCYreXnCN+dnu31cN+s7+tr1DuRVvdAkocuCjbSr4Ru9CwOPqSZEhoPOyKiEG2FJ3uZL5cG0dtgq0mXfLBrirIlwkY8LsoPYZ6Iv+LN+C0xfRPgpteB2O4khNOGRZJAM3NG7R3fIcaFJ/QqvDftkfqsUBXxe/Rmk/XcTkyRjhrsETygRZNIlAimaTjaSwnksZ4F8DhogflzXbEVKKCPpGZ8zL1O5jvWrHF6v0sy251lj/COCBGZ7FFK3TbQ/v5gx4BfL7mNA2E=
  - secure: Wz7hSpJQXVDfWA5yWDXoOmSQKnU8O9tXPT3wz7Ye4HjBaQt/LbcpwYaSpqSQQ3Ub64MwkXVGH4D7tl7HSiRXmHO0//ZZJraKC6gaqO2ZvYu7yPmTZAxNO9EW96LeMpo+SHJMQixoxqUiNklVFWwcnQJxWaY8ATFMGqyCNqlM0zgynyfQrteepvB6MojuaVsIoKsMRA6HYWTaPFXmRUrOZqjmVBP/C1mJACzblbzw4hCnoWzYNLu749sM2bdzkl4/8LeYo0R4wtXJhDt4L9+17FIjNgXhtjINfau6/+IOZQIOm5YuAOWCBsaoPrj/fJEVxb81WVVQeipJnRiC8TE5fFq17b8JhPPznLRBd5TtyRMbdXioSclyIt8SSUs6zduU0NjdyRIR8s1Ptr6A/xZMPM3znGBiaboDBuOvHA7sK3ScirPs8DHlLqxMSjsICzNkMAlxzQ7qF3B4DQeJusLbGN7Gksd7tKYerrtok02amKHcpheF/Dtvy2l83nofgujPcDofBoPZgM8CiYh75eRDxFV69SGeGfLyQhruC098OIhD7tQfdhA9sCsEib1wQeOJSA3iVn80BNBao80PUxuC2ZKK0sBK5WKy/8El35yJXW+8D8zOjpD8fAqs+DWkcfBoXaFTNptXrx07PoaGgKCIcHQU//XqmCtq4iMNl71Dzmc=
  - secure: NPnrAEN5Yb+x4/nUoYuDesRmLfyLBX+fRql+o05IEBPubzU2ypsVdDPm2tfvgJkRp1YVADNcP5We4m94KQULra75oNMAPQHQHil/97v4G7qnP6ZTQxEKH6VQSEasnyStct7TftHKA92QbcJ9ZT9YzgaEw916ONY5sQwnXX4ORnZCSGaJwC2tJlIWixhxsFScRabOaVJlF+pmc4V+TZ5K9g4UskkCFMTI7RsGrQPnd798WqIe9f9+8gHb/+L3jagL8GOkDQZTLXHcGG9toEhPRnnpdDi3h35RHJWuqADcs+cBeZRh9HtYwaA1UR7ZS8GsDeySN/yVVH4kvz4K9Wa49aKHlpskV8gx6dtAgzlFuVj1mUDZP5a6rby5vqo9z06J2Fn8wIjs5MzOZ9VRzR8DO6ckiMRDVlLCWLIINLmn2TIfZEE4pB6NO0P6E4Pm/AHR6hIDw9kNJUGh2ck3/yBZttW6cmR1zlvKMA03wm2f9CnLbHTtftGx4iIQUA1kO8kFTCC3GcjoKCM7fHp0Jsy7Y1xMve69xBVYv9JLq+bXvkV0MJYBaJSttaQxpXkL0b1rs4jvSqOKE3Pgkt5mx1WRTMz34MWjlBjIo0GfivB05x1di7XjFCcW8TIQiDJRF0ykeyIlhl/UqM1TvLkhx4WTyhtfCznaZXkum2PdiXeLklQ=
  - secure: i28FtkL2oQUWl35Snxvayn9DB+HxW+uBHmRRsqxkL/HqUfHproB4Wl0AcMtl7HEybApcFbd2j69I4zP96OvvHaoAHTVHmhH8/qlytxq96Yl+Cc6lMszM4ZaA7v8QK48imP3N4haQcxrgsZ1PQhXmBZkYLkEjl52v8WmpTesTTWMFlVObQqyNCfdr+cmCCa6r1UB5kn1ebWL5IligwGm7G3hs5mk3CJPGk+S/o+evDeqeTPvJOogKQtqCf2zG9i5kHvwqUAl2YaWOD7rK3OX4DRze1RMhvRfdZiffQbXgRIQJZsxpzjj+eejfOLF/eM+c/CJgmC+znZsy25phxnDBn/6wSKiWb8KFmPZ4f45RaFNK2HbATWJ5lUTRfaydRCMFXNwz4mxv4GHoZfKhoxKFMnOmFZNc04dolANCQQ3pKqpt3txwzptmcSPBeQ3LgJ+NGLGwKsmtaHxT1GD4Cg2mN7+J7nFeIi8lQjd4Lb4cuuk/Qtjo6QOJrNflPG+ZnfcrixFwIqJcYEb0l2FQ2Dby48GDmNkUpbyct4SrlZRq/6m1amNakyIBNakRo6Hfo0f4z7zzzt0Lf5YrpqnFeZ8WpHcb1dedOpkpyIjXrVC3YENQpmE++fd56Zl0Vh2YgymO1MKMkdV2Z97jXRtErDz0CkoRGD2hetMLKmlsvRRyjI4=
