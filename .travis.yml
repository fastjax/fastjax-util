# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: qGyOE7lOc05e0tffo4KFpkk7aafZtiWWEo64oa9D/ZJg2Ds/+pm+lCHm7+fKsKF9uEqvKLdHCw2MYrjZheGNCmMUUQi3luayHuSxw00qKjIxXkqUOE3f7XoYAU05hIbw0qiW8h7aEZuEN3RnOiJAEMKEem5IM/otjACLlgubHHPE8ElSNk2qgdMSYnAJ0SROHs2sxok/wKSMc6GXQWoz7a83lBs0MiO4EMimsqYFVpNTEvO/87T1WgJIa7qq5sB/hsmOb68t0QJq2/y4owDLUiWM9BUBxFX4olgdQpIMsYx3T4egwF4lN5r5iPykImb/PBJY9HVScSz7HGurSL8zxUTW2wwrHwoRjyzzndi06aQcwJ9spij2j61vidz0FhaVyF+l1O9T6P/fhVIXbkZeJRQIfqrpazssyYb7siKa2xjiICuZbsIT01Dvuxx7jMDlqrVS8BjnwlJjoUt+P//z5dRhc2y9iJcARMSCuqrcWFZkDPka3cFN2q3yYZLI/CjxskmBOyyG7M/ut/AeVZRK1ojJNAadjISg9PcnpYMtFrOeg7BrPpZiIQEdpmdijY14MkhcvyDRtcv5W5dFq32hEdS8osnIaKL4BtRzOwVu+PVIOdQLiZtTjNRuDK0p+aAqMe32bYEZ5ddhVZrZ3ScaXCmqPx0HLR5RY1gbdGDP5Cc=
  - secure: Cm5qg9WG1b8UOJrAdLyhcYl8BdtwHY8/gH2BFH8z3JYI/hNkHwe3J7zdFsUlkAxaK1+mGlMB0qECrG02thnyO9rFY5PgJnk3f0WaP+utbpU1qXTpMv5p61tCQYR36+mEaNWlhp9rAV12iUuavYeNRv43+4IOvPfo4ia+UzoEgtjJnX0jnT4fui79UlBxwfnE+aIFBdhQoTzDOoJeX0tmTXpgNTO8+zVHp5tmKPdjkcO57sPgjW+67H/zls6TiCq1SaH2Pcts++4PgfvUvjshYdHXaYz7oIOzJLOgU8kyEO9sZMlMxWumxFvNJaAg+l2h+SIIpCwpfSn47+za1tsYRiHNFkfwj4RZGl7z1hJUYefQMPIzDB5W7+B3Owty3fFyY293MbaUMZvd4kD8mbYgM6UTqNsuCuhFZBzf0YxI42PGZVqbiRRxyYwtviqByBQvgw+YsYFHzxGPyCLC+hh5mCF/Ycp1jf2HIXuUv4/TnIp0unEivk1X3bR2mg+b3k1Oyt5qN/2stARkR54AAMZGg53ecwcqJoseshMQQnbp+IcJdII+TBENHXn3VOAtLGKQPUhCi75KQPq2NwRQIkspWABDkOJskvPfaxdZDHUGHEEG0GTp/Dmz0nWIL9t4VN6SZsZpIHEYFIvsJidS76ylZqqs1wQhyEC15gOEcyyTQr0=
  - secure: be0mGMP6acB3lzNTFLbXP9WNqyHwEmYFl3ynRJkD9yMng7dUSDfVnMe63wyUhmFYNTBfXBgaXgSnhCtUJrmyo0N/+1PthnBiPQo1TxN4lgzulwe+EHlGx9YjnANpwrneO9R7aeQHjjtJXSZ+PKs3/ejzT1bRrVb/oOwOrBUYP4HZkOeW5sBirQZzB0O1uTdJKzeHH52jjcacvhMoT4+RZqPnAgI2xDImAKVYXu+7TSgyFck9dLTfVoBh/hdjUrT528DdxYmFn/8Zoav4rrjNAGcXbuvzd7C/haajEH770p+DgbOYXFeQnmYijfaWN7uOyqKTlwq5rnivGmZU7YJO84sTr7x/or1UdnBbBmQ20nkem0uIGspWyWauIy5xb/drfOjwvvQGnIaHhKz9QuS/Suu747a8j8jRWD1zhMC1K/waUsfqYCp9iFWg0kcTyZ69oRShx2gQa/KnAXbvVYTD2TT7cgSE8X1ZuWwD5Z7AxKcOc+P2J/QkmiNu90N+vf1LQGOJBxzLxDxdP2OQPStFkuxPIfo2b7RbKvKSP9vm6dy8hJ6qBMYBppEdy+5ZI6NdWEQgvPbIrliy/FhcHowr6RBSJT96PQp0AouRKBTbT09WwR0VVEdH3HrrPdL8+n3hIMmgGmNeAek9yjfvCXykoqk8KumAk293p/xD55wiTQQ=
  - secure: dfUKckiCu5kjXru2iQIVfkX3D2Crmqsk/iFSOZDvn44Z/q18dpKqoIQ4wAb+0J+SV7GHNaiUU5hOW4yny+VEZ1B9vn/nhvBjJv+iZXB22Hry5YBlb8WCYoMeB8gJksHKzxLEIGqNzeEnPyR35fpJOpf3hmHP/RY2VH++DC+mVgrYFC973jV9PccVgeCgAGuwh537NtiwIT7TyEhxXZ7Piv7mVGmYtY/PjO7ueQZmvbVyWFH1Nh6FaG0gI0WSN0lZXu5t+ozOcJLoOXYMXdh5FWzTppLTxIWwXEj3gfdULskFRKYPVpJjOY1ZeBLsziGOgafSDy3WpKOz0LnQCQ8hyJLHIqfxXMLQuax6yisQilu//Tx1+h4tXkYbDJHUvcsgneB3umy9N4FHAOIzv0pA9yO1wib6l7HbwQJwm7VQmeRSie0+F4UDMEDtysz9CdzaHOver5ZOBK0VwtAneCgMw4FugvjQ3jiWliutusuOyGCxGPSWWHHmcTDxIDHpQaBKKx1pXBhVGRvX92Q+wEVSUo5PEwXTTpqM0u8RS8n9pTmyvOojaPM7/3XFYTl7Cs/Chg5HBPswspe8lYLOKnxXVkYlIQUot4IPK7c+DShbaecY43FoY3DrHb66dwCiPzTkvireSaFjna1CXQsaYPWz5W+QfKw6qs6JQp4oOIev1D0=
  - secure: qDKgBry/5X/YFuUHeHJWkK34D8bTTbGyNlEVN/sEQc30+Q0VKelIOBT/c1ishLgD4N5Tdj8K/U1GeBtlMopokJ0eZy9PjdmfmsB94GrvUvkJpwpCYvwwbZtU/EnDp6L2cZApZM6Q1mgVFup9QckbzYb2GDT7PVAe5zZWVqb8tbPU2Kn01nb3d3zQcjWmfvL2vqHJELzWeaPW1mr4PG64x/Nr51m3VoQBL2u+Mll3scBdVjBPaEgjGR5O7ppgS9G2HXkjKItV3JeK0Gx0hus0TngW/YlFiguYLYDqmw5z4zM1mXGOt6N7+hXItkWFYofNTdNYLKwP/f+fuSV8xhtpoEbuJD8rWW7WzaRE0iX6gI4mio2J34nHszZvH5qda1ztpftmFTE9LN6VQiBW/P+Ur6UAE5Xqirawo/r2qN+Km5LpIvRfG5gkwmhebe4FkfQSbTE7L3/jy11TcDuOcBeLET33HzZviZN6qFY5eN9hLDlAhHq3NsadV9HL2pEyWMd3BjpryZyMxE1LRuHO/JjS+sZo2L204vqxSopg5P6mgiPnOWyppUiWglsCKHvMWQj+gJUlwBAo+VCa5AodwY/P8HgXgYCxtEzLMKGm/OkUHr7evrEXw+sKOVFARFOD/P2yZqupOb5eJ8F8DK0NS6o+ZDFism0dm7H6utUh+08LdV8=
  - secure: Wf8lgVc8Fa+JmRNOl7DrcL8XvrFDEVkQgPt3jiKJqm7wvlayCdwWpnCsF88QThJ2O7maODiv5dHvBYQs0SIZ2rh4J7/8vfe/ve3BA2FhdVkGEmYzK7lgQk6tRgQoCJQe3Ff77Zw5VtlvAf9GVm9Poamt9EUZVUJ61WXOEJKvqFU8t6DW2Y9pHZWZrOV2+CDF2gWRF1dAoT4iVccmB5S1/WEcelE1ijvh4R512tWT1eDotq9WaiqQnmnR2V2Hb3zLXEncPnm3DJdbZ1ZT2KeVsynw+b/Ei2KgfWFdbsniDNpMSRohUe4fyCtDkzE/zgJ4gzOiyiP2HsarHXY2dlaolZGSis4/u5euOIVLbYFLP51rgk57Wc75jO6IRPT6PUCrWOMLLpDotRAYiqrme/U6IQzDKnoAepRFyvekQIIhPJmaI+YcH02rhkCphWrCDmibP4zptgMavBPoRzPKOV3Jv3vc6bt/c56G45VvN/nLrpoWWPJkzqV2l1RCLld7R9BwVmbKgmWP52UQzFwHMxk3ERrQ1dIScSrmM0vlUwMvc5LZAnnOLjDbjooK02PMKJX7XUvMcJ8qZuKgkqJn7Rpr101o7tQRPLkGun0u3/Zcy8BoLRRiyuOormNm4I2xt5UcV1JewtgzXE6ywRnAshwfVwwLK2d6NygjpODvuMctBAQ=
  - secure: glpGV4NNb8/TljjfiTASOg+HPK4S6tzHQ+GxIKdm6XnVn28k5d6iN052eF47OglzpOOgEBhYwQKiRxS4w5Q5VS53exA+M26ONsfxXXFcbW0CFHO3LnCVCHjszxetLl3tRV0KgHXOriYdhpyVQgbvN8sVxFtWxVHvW8rgdeCUu9A5mu0hZgNXXgH16PMnm50MmFwTmZCg1EvmrJ1cw1H9p9HrDSp4o4bGHcdHQK0g+ufog7LxE0hx0GRUs/DL3tk4k+gH4tCsYFCAcnX0IEmwip8Txg3mrIrXwdGqUUrgg7LstZDEohzlwx3233Aj2nO09VFJ3YibN4wO2Bi7EazluZHnTn/JOplPc9K/qrhStl9sebdC2Y5seaeVg84JqVlBJbhfInfOraCj/t5vwJnOxjX3SeuoH410p4qQbZzHp/dCxxAM8A0kpvjNey0HdCrkt3W6x9mcIpfY9Ujwz/xpu8rDOOje8b0ZrXzo2YneLn0e09tcowLI9jtXaiNZGOQP2li6CZbSpFdqnCv7kC4hLt/BcN+zFC191o3FS4F3XSm5ct3bCTgJT/7MmevM0LBb2a5NiQsIbmvBcacwmUMp2IFlSHhlgS5UQ2uXMSAspJdkqG1NvccWOeFfidL+vCd0ybdRnrT2pyHAyBC2k3kkK1Z74+o73Zbp5gklxDXroVk=
