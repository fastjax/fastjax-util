# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: LaoTPRrAZ19nadXS+stb/dn1A5MfrT2BGJshukKgdImm+ugq7Mjf6djRpQE7zFJAYR5uz8iY6yl/q3/ItlkDenjqb4wKsWijnd08xg5C17bE6QOUq3R2EYua5uK728DnvAC8kVj/ioI3z1Pli7E/dPQRD/Bl/Ue2mlcJ4jqI6n+mJIyInJ3cv9gJUTDNJghEdpzc0C1dtqEJ6GMsPJbcxWz1FqsZz4mAfVy/A3Linc6HPnVgQ8/gJX/EDya9Q/YnFtiRL/4SSrEV7ZONMmanljBpZc0QikvrUhqOg+ryCNkXq2oNk+dbljOEr2DYdfvk/JSzI5s9tmLf/YyBHXPoQQu8dYlxlcGBw1pubq4IdRnfK6rrlt7Q9k4bwUjbPI2pZLEPvTYYZRgizqs+Q/9+f3r5KXRcAAX7gTGNHsrZHuE1Yb0Aw5XPRrO0EEsswWWicpqUayXIh/iVkY5ao5qPBK7hQdWXXgjzfQCz2RFChYb/yfgGXhYZN/f5QmECP9URCz/4ste08NWDzpYg3L71gvtL4mSfFeWn/Gnq+SdL5UKm2BJJCcDR89KMSDwCBRQ2HOu16w9LTdSWNXdq9NkdL3gttEXtJkN2QlLyDs22n/dddA22AZrz9E13mC/nrEc1OGQaO8O4JPDYwnj5Uo6O84JBhRcwbvAgZmRv1UMuvdk=
  - secure: H03Ipj45rIOj3wvLk47JuO9uT0t25cUT7g7G+ImuW9mPtfXDZPoluxe50RolMT6gIwWrt41+u/vhkVEJKjuUGcxf4ecdtPpWvC1aWzGtPhXJLWKB/RoHUqdyU0EQq7MrlS4iZYZdEQ8vwGTYd4qXKp5Y8sWV6N+G16KsmZdV4ks388pGb/dhnwiaGH5QdKpMf/s7pfUfnrz7NkvCl4L9Zzw4PvD3nWOpv6OsXqTKmrbO8JGUjhjWl+Qg5vy0VNs/u7iPDMTj1oo6q0FncNikivhwBrqCGyFlt6U3Z4OJXPX7OBjmHeH9Ol+QfE2gXWViz0YNwngVYK6LTHmfTwcxLODLh7ZhN+0h+kRf9VXXYQULxqquhES7C7IyeIjEtX+PXAkI/hIvauX7p9eOktprBjshmw+9E9bjcsl01+QZbr87OVYMo4dI/19Ooh6hL9enPJHnaEvHWC18icdSdYh/9Ex3bV3p3UmJ+7OVOz/yIlwN/g4oRqPTTph8I8yAIlvAkvy/A5HYhIH+mX9xZf/QMmBs0YeD+JvWDobNZdpKSeh5mruoqwEoC6AjRDHHq1jCTmbopj3DGhn73JMkdjE7MNfVZnIuhKAT7OosheJ3Oe7yhJsYVhp51Ank1xXp7Aaj+ZB823XE6+YcKPVg+sXVbdKxcTYlplmcnN+Jj/vvPNg=
  - secure: FQTz+sdC43FctS4s4SSBb/ZguS/mMOFiEW0Cm2MR+ZRUjDeoS42oGefeGsa3XHkgz55s0lNLSKVUL6V1ehj1SkqJezzSi4Ykv1OdwwwAOR9XmhFSwK8Sxc+rw69z30QJIpCXw6m5Dt8LVZa6FGFNjM+8M1pP9qPYkcTsrY3y61PCIjWXk6FfShJs/cIJeU7WtjL2jJJx8PWWFQ4uVMhYI9pEbD97kqQk6CQZwIyUSW6gFO50FbRa6/0hUOrTOZKRvZWa3OLI/ngGdTrMPFQV1rEspcSFGeF4/MsqUnCPS+SBQ1F1YFORjSMmRAKJ2hJ6+bq4N25OUKvLIP9PYSnfjeG5LP527fZXNvdDpqD7U/aSYGN5znlLBAejPswurrBVy+O1N0DzId5daWE5E+FjSCWlQVOYDnHRFSlf1rrbC5foIFqSlvuR+ebgzM88PCWN85dUwqeTGGb3atlySt6qLqfJE4VrgJI9oc5aAvX8og1o9KG8h/hImx8AaIOVVgQ6qCKpVMnBaO0+U6brA7iuxp615+fC4VIJzJ4LqJBHY6rMBHx86foWaQk5JoYf78ME17MMG+voq1savZNx6yiDQIORZOCcaq/ltX/4LFcy3/Oo9g7Gfeaiif5v+YeG7nsQumNE2Ihy9TtGfI1+6UuNh6OMkY7rOSI/LU2/e6seDOM=
  - secure: rJlGxYnilunYsA2b8U8syuLPIsKQ2jTLYSTNkZKGI8r7AT2VV7g7HAvxLKgu/sBJRd5KmpNbhEvWFTZ2xDlMlwritdlAaukn9pF/F3DQAOktbvGFIuGJU3R09t1UK9Wbdkx6VIkw2zwZaPQ5JA4ndhiC1Jbz6FFJ6frcG1JAxipDbvqI3nV4tVWwadTgiHzC16SmbGK4ZaK9XsFuBkwLLzix4PYvi6kkICSFS6CuMR4uu7mcN5GEkkbsFw3UwaRNqOf2UdSIlrb/k6IiJFlP/azhpORUNXsBplGHYoxqo9DAi3PddVfCYkvWafOhNNWU2TxQnpjcHExjhPZCFKvH2vQFzJ21KLI8y/+xdrGRG1HfEC2oU1Hj19jCxxu55vvhGCgGaZKRys/tc611CvGS8kzi0e8yLiruOHGJrs8jDT+Eo9JqNLKbVYeVEu8AFcR7mQsm/Fcm2UXjxuuae6VZ8DXCvbnamB9Jm3epnKIbc64DPBeQN+DbO3NeGhpQAzBs2XOb7r0Fe0vdg8XJl7ex7l70CIIxftMcM9Azma8oL4AVgnS3EW6bH8OWkWGNEnl3McRdcByOpHbFF0egrj8/hZHFqFwfO22UCxDHVT+eQAzgQqkdZWaKspHkJEqleQtFFwU6prupaZlY5ir59r/DuefHBqwBxLqj1iZMLY9vvxs=
  - secure: t7Cs5tIWn9BBl07rWMB+By9qiBzyTo0ZMBIj6X+Q5Igr2E28OPLR942KYcxTlNwZHdyl0e5LnyIrSt63rkko/dWNj3ffwFsCvLQPuzVF5V0uS0AN+usXJJ06BQ3u0bhXyagAuW+D4uWW7gZtSuIgXGCb+l1URgFW0QzWsSJ8bC+syMw+COeS8XiECA/mVxnyQ190m3DeIMRgVN5p3gIuAlTyYm8e8YDEOac2oaGIIsDnpnc+0Rr16S3dy139KKBORTzpVO4otkZOAQW43wLZ4y5vnj5AuRXdaQmU5b5fPLfTZag0JGCW2IQKgLQLlDH0RCT7FqisOm2dLdIbcdvHPvx0R0NpZbIPZyCqgj8rRKP8JX17hrBRWDI4kKUxmZzIhXE4bxJMJn9UevHn7z5J8BtaPDc59WkCY2vYRboYI4Cf32CAtgjp/UWuNV7oJC4SBNSXoaYQ7CSkNuNUjbQgRU6c/TUT3MCVVscSrjmpWi2BYjsLbSxuOBG8f2FHfKOU7fwaw5ylTJb+ogXAV12e2aDjjqnlHDqjo5fPHHK1wOD60a7bgvaPP8CxcKbghaLMlbp6dF6tHABblxSVKcQUaOhZTNcjBiHeHcGGm2YT07VbV4MXHNaX3B6ZginZPSSqRMBK/cRoCJ/bYAAXoJaHlNNaPgER7/EW5/nQ0CjvFtE=
  - secure: H5Ybfuz58Kew3N51vc1PM0mK0OqJnEfNPmcklZSKL80+Wk7SAzZbAR0QCF5441LcB8aJiUESHsaYVcA8fSIOl8OjVNiqZlrq1LlXfgI4+crcKNeawlMSCA+Oikxc4EVuRQcd37lR9TrhdUNcquorI8Zv0NgvED1Zrib1qO6hjgIpDTKpmPZonWRCGEa+2ErqP9Yt+e3w9Nx5y+ohGAghN+ZYW5QoPswFLwXCeina7kc+04vdz3R6wg8krthK+DfG9deuezqqa7lgaKl8YBVD9UxGY/zskxCrtG3zF/P+TOVgwOCo68NpgrD0axHZj/PwiZrLeTXhX4i8eHOSy3X75F/zQ6+GalpfUk5t7tftxvFnog3tN+Xklnhu3+6iztTjWLaXZoG+LmtY1OGI18BOAnOmn39EJO8VPZHBX0pQzzP+ibgU3U/ZccIIe6OhXNO7hJN+foeezz+rejxeMFQt91URn8GpyoaC3iIGIMoqGixY6Gf89CfN+zk4hmd9KgYsX+wqrJQewh3vJUImY71JZv2hXI3IY66ol9uRxAIW7nszzfd1fWt3+9rrfftZ2CTuyn5/qOsIFuYqEnCWcTAuPG9+5+bQ0dvma6b4ihjINQN8y//UrNkyXaIhcPCUZpwEQUYRYjMjj3kKsNHTIoC1SVOZaQPWvmGQTrCOKtsqVDM=
  - secure: CN2v4lFw+JjkG8jvFLdHPXjdxtLT5AouwCpPHjczxcAv9oJiP4ldhlVfm0RakHbbaXuY7WctQGrglGAn8t8rdIQuBXowGpIHNrYFC0IJ/MSruB6tTCTlogqDfhDZx28U7elbGohSo0C5Y5Acoy1Iz8M2vN4M6eNZ8IgOYqbmo1XWoKTR3nN6CgcrHS4fYXKdvpxf+77+90F3Wp+WBztucXce5J0TbliMEIRoCP0pGA3PmCuB//VDDyJpCebzqmOjDlRrDk840y4Len9c3tgkuRdWixnlgI957C+ge+MSb38+MIo2DH441yWeXw8+A43L2Se63+Zox5j11UFp38LU093s9HgGvof2sIh3isznTDoGU0xKUt+aK4/qV37KXNlLuBWMr5igkaerfXvig+4PQH4ArE7oUa4v+5P1m5JAPC3kGQdDJ6lAekiwMMtGyE8U0nYA0CTxaZOGDlRK93qHN+yFwhWDRwYFKMF5rLaqrZrPKSGrcYlWTPxzn3TaoSFeGLc9C+cVvCbfqSiFtrIMsNLe1/R59rzyr093nvXGMo6aU6+tMKUv7t6T64sMVwiPCXaPOMZlNwMvi8JazmvpNvGdXsqbd2XJKBnLTgiZXI/T2j0+n6lC+YMOk3KHQMXIvVg99z6ByHW5aAH94dUWrt9I8+B7RKBtFph/4gjNnZ0=
